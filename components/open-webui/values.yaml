# https://github.com/open-webui/helm-charts/tree/59b88242462c097ba09b6549f9e1128064b33563/charts/open-webui

replicaCount: ref+envsubst://$OPEN_WEBUI_REPLICA

ollama:
  enabled: false
pipelines:
  enabled: false

ingress:
  enabled: true
  class: nginx
  annotations:
    cert-manager.io/cluster-issuer: letsencrypt-prod
    nginx.ingress.kubernetes.io/affinity: cookie
    nginx.ingress.kubernetes.io/session-cookie-name: token
  host: ref+envsubst://$OPEN_WEBUI_DOMAIN
  tls: true

persistence:
  storageClass: local-path

openaiBaseApiUrl: http://litellm.litellm.svc.cluster.local:4000

extraEnvVars:
  - name: OPENAI_API_KEY
    value: ref+k8s://v1/Secret/litellm/litellm-masterkey/masterkey

databaseUrl: ref+k8s://v1/Secret/open-webui/openwebui-db-cluster-app/uri